# 01. 자바 8 to 11 : 무슨 일이 일어나고 있는가?
## 1.2.2 스트림 처리
#### 스트림 ?
한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 Group

이론적으로 프로그램은 입력 스트림에서 데이터를 한개씩 읽어 들이며 마찬가지로 출력 스트림으로 데이터를 한 개씩 기록

비유하자면, 각각의 작업장에서는 자동차를 받아서 수리한 다음에 다음 작업장에서 다른 작업을 처리할 수 있도록 넘겨준다.

#### 자바 8 
java.util.stream 패키지에 스트림 API 가 추가되었다.

스트림 패키지에 정의된 Stream<T> 는 T 형식으로 구성된 일련의 항목을 의미한다.
  
자바8 에서는 고수준으로 추상화해서 일련의 스트림으로 만들어 처리할 수 있다. 
  
또한 스트림 파이프라인을 이용해서 입력 부분을 여러 CPU 코어에 쉽게 할당 할 수 있다.
  
즉, 스레드라는 복잡한 작업을 사용하지 않으면서도 공짜로 병렬성을 얻을 수 있다. <- 과연 무조건 좋을까 ???
                                                 
<br>
  
## 1.2.3 동작 파라미터화로 메서드에 코드 전달하기
#### 자바 8
메서드를 다른 메서드의 인수로 넘겨주는 기능을 제공한다.
  
이러한 기능을 동작 파라미터화라고 부른다.
  
왜 중요하냐면, 스트림 API 는 연산의 동작을 파라미터화할 수 있는 코드를 전달한다는 사상에 기초하기 때문이다.
  
<br>
  
## 1.2.4 병렬성과 공유 가변 데이터
#### 병렬성 ??
다른 코드와 동시에 실행하더라도 안전하게 실행할 수 있는 코드를 만들려면 공유된 가변 데이터에 접근하지 않아야 한다.

-> 이를 순수함수 부작용 없는 함수, 상태 없는 함수라 부른다.
 
-> 공유된 변수나 객체가 있으면 병렬성에 문제가 발생한다.
    
#### 자바 8
스트림을 이용하면 기존의 자바 스레드 API 보다 쉽게 병렬성을 활용할 수 있다.
    
#### 정리
공유되지 않은 가변 데이터, 메서드, 함수 코드를 다룬 메서드로 전달하는 두 가지 기능은 함수형 프로그래밍 패러다임의 핵심이다.
  
<br>
  
## 1.3 자바 함수
#### 일급 시민 (first citizens)
프로그래밍 언어의 특징은 값을 바꾸는 것이다. <- 이 값을 일급 시민이라고 한다.

그 외는 이급 시민이라고 한다.                             
  
#### 자바 8 이전
List, Integer 등등은 일급 시민이지만 메서드, 클래스 등은 이급 시민이였다.
    
#### 자바 8 이후
런타임에 메서드를 전달할 수 있도록 기능이 추가되었다. 
  
즉, 메서드를 일급 시민으로 만들었다.
  
<br>
  
## 1.3.1 메서드와 람다를 일급 시민으로
#### 메서드 참조 (method referernce)
함수를 직접 전달한다. <- 메서드를 일급 시민으로 사용
  
``` 
File[] hiddenFiles = new File(",").listFiles(File::isHidden);
```  
                
#### 람다: 익명함수
자바8 에서는 람다를 포함하여 함수도 값으로 취급할 수 있다.
  
<br>
  
## 1.4.1 멀티스레딩은 어렵다.
자바8 이전 버전에서 제공하는 스레드 API 로 멀티스레딩 코드를 구현해서 병렬성을 이용하는 것은 쉽지 않다.
  
##### 순차 처리 방식  
```
List<Apple> heavyApples = inventory.stream()
  .filter()
  .collect();
```
  
#### 병렬 처리 방식
```
List<Apple> heavyApples = inventory.parallelStream()
  .filter()
  .collect();
```

<br>
  
## 1.5 디폴트 메서드와 자바 모듈
인터페이스를 변경하면 ?? -> 인터페이스를 구현하는 모든 클래스는 새로 추가된 메서드를 구현해야함
  
예를들어 Collection 인터페이스에 메서드를 하나 추가하면 하위 구현체는 모두 구현을 해야한다.
  
자바8 부터는 디폴트 메서드로 이를 해결한다.
                             
